# Phase 2: React ν”„λ΅ νΈμ—”λ“ κ°λ° κ³„ν

## π“‹ κ°λ° μμ„

### Step 1: ν”„λ΅μ νΈ κµ¬μ΅° μ„¤μ •
```
frontend/
β”β”€β”€ public/
β”‚   β”β”€β”€ main.wasm          # Lattigo Wasm λ¨λ“
β”‚   β”β”€β”€ wasm_exec.js       # Go Wasm μ‹¤ν–‰ μ¤ν¬λ¦½νΈ
β”‚   β””β”€β”€ index.html
β”β”€β”€ src/
β”‚   β”β”€β”€ services/
β”‚   β”‚   β”β”€β”€ wasmLoader.js       # Wasm λ¨λ“ λ΅λ”
β”‚   β”‚   β”β”€β”€ cryptoService.js    # Web Crypto API λνΌ
β”‚   β”‚   β””β”€β”€ indexedDBService.js # IndexedDB ν—¬νΌ
β”‚   β”β”€β”€ components/
β”‚   β”‚   β”β”€β”€ KeyManagement.jsx   # ν‚¤ μƒμ„±/κ΄€λ¦¬ UI
β”‚   β”‚   β”β”€β”€ EncryptPanel.jsx    # μ•”νΈν™” UI
β”‚   β”‚   β”β”€β”€ DecryptPanel.jsx    # λ³µνΈν™” UI
β”‚   β”‚   β””β”€β”€ OperationsPanel.jsx # FHE μ—°μ‚° UI
β”‚   β”β”€β”€ contexts/
β”‚   β”‚   β””β”€β”€ FHEContext.jsx      # FHE μƒνƒ κ΄€λ¦¬
β”‚   β”β”€β”€ App.js
β”‚   β””β”€β”€ index.js
```

### Step 2: Wasm λ΅λ” μ„λΉ„μ¤ (wasmLoader.js)
- Go Wasm λ¨λ“ λΉ„λ™κΈ° λ΅λ”©
- JavaScript μ „μ—­ ν•¨μ λ…Έμ¶ ν™•μΈ
- λ΅λ”© μƒνƒ κ΄€λ¦¬

### Step 3: Web Crypto API μ„λΉ„μ¤ (cryptoService.js)
- `deriveKey(password, salt)`: PBKDF2λ΅ AES ν‚¤ μ λ„
- `encryptData(data, password)`: skλ¥Ό AES-GCMμΌλ΅ μ•”νΈν™”
- `decryptData(encryptedData, password)`: μ•”νΈν™”λ sk λ³µνΈν™”
- Salt μƒμ„± λ° μ €μ¥

### Step 4: IndexedDB μ„λΉ„μ¤ (indexedDBService.js)
- DB μ΄κΈ°ν™” (`fhe-keys` μ¤ν† μ–΄)
- `saveEncryptedKey(keyId, encryptedData, salt)`
- `loadEncryptedKey(keyId)`
- `deleteKey(keyId)`
- `listKeys()`

### Step 5: FHE Context (μƒνƒ κ΄€λ¦¬)
- Wasm λ΅λ“ μƒνƒ
- ν„μ¬ ν‚¤ μƒνƒ (pk, sk μ΅΄μ¬ μ—¬λ¶€)
- μ•”νΈλ¬Έ μ €μ¥μ† (λ©”λ¨λ¦¬)
- FHE ν•¨μ λνΌ

### Step 6: UI μ»΄ν¬λ„νΈ
1. **KeyManagement**: ν‚¤ μƒμ„±, λΉ„λ°€λ²νΈ μ„¤μ •, ν‚¤ μ €μ¥/λ΅λ“
2. **EncryptPanel**: μ«μ μ…λ ¥ β†’ μ•”νΈν™” β†’ μ•”νΈλ¬Έ ν‘μ‹
3. **DecryptPanel**: μ•”νΈλ¬Έ μ„ νƒ β†’ λΉ„λ°€λ²νΈ μ…λ ¥ β†’ λ³µνΈν™”
4. **OperationsPanel**: λ§μ…/κ³±μ…/νμ „/μΌ¤λ  μ—°μ‚°

## π” λ³΄μ• μ”κµ¬μ‚¬ν•­

### sk κ΄€λ¦¬
- β… IndexedDBμ— **μ•”νΈν™”λ ν•νƒ**λ΅λ§ μ €μ¥
- β… λ©”λ¨λ¦¬μ—μ„ skλ” **μ‚¬μ© μ§ν›„ μ¦‰μ‹ μ κ±°**
- β… λΉ„λ°€λ²νΈλ” **μ λ€ μ €μ¥ν•μ§€ μ•μ** (μ‚¬μ©μκ°€ λ§¤λ² μ…λ ¥)
- β… Idle timeout κµ¬ν„ (5λ¶„ ν›„ μλ™ λ΅κ·Έμ•„μ›ƒ)

### Web Crypto API μ„¤μ •
- **PBKDF2**: 
  - Iterations: 100,000 μ΄μƒ
  - Hash: SHA-256
  - Salt: 16 bytes (crypto.getRandomValues)
- **AES-GCM**:
  - Key length: 256 bits
  - IV: 12 bytes (λ§¤λ² μƒλ΅ μƒμ„±)

## π¨ UI/UX μ„¤κ³„

### λ©”μΈ ν™”λ©΄ λ μ΄μ•„μ›ƒ
```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  π”’ Lattigo-Wasm FHE Demo               β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚  [Wasm Status: Loaded β“]                β”‚
β”‚  [Keys Status: SKβ“ PKβ“ RLKβ“]           β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚  Tab: [Key Management] [Encrypt]        β”‚
β”‚       [Decrypt] [Operations]            β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚  ... νƒ­λ³„ μ»¨ν…μΈ  ...                     β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

### Key Management νƒ­
- μƒ ν‚¤ μƒμ„± λ²„νΌ
- λΉ„λ°€λ²νΈ μ…λ ¥ ν•„λ“
- ν‚¤ μ €μ¥/λ΅λ“ λ²„νΌ
- ν‚¤ μƒνƒ ν‘μ‹ (ν¬κΈ°, μƒμ„± μ‹κ°„)

### Encrypt νƒ­
- μ«μ μ…λ ¥ ν•„λ“
- μ•”νΈν™” λ²„νΌ
- μ•”νΈλ¬Έ μ¶λ ¥ (Base64)
- μ•”νΈλ¬Έ ν¬κΈ° ν‘μ‹
- μ•”νΈλ¬Έ λ©λ΅ (λ©”λ¨λ¦¬)

### Decrypt νƒ­
- μ•”νΈλ¬Έ μ„ νƒ λ“λ΅­λ‹¤μ΄
- λΉ„λ°€λ²νΈ μ…λ ¥
- λ³µνΈν™” λ²„νΌ
- κ²°κ³Ό ν‘μ‹

### Operations νƒ­
- μ—°μ‚° μ„ νƒ: Add / Multiply / Rotate / Conjugate
- μ•”νΈλ¬Έ μ„ νƒ (1κ° λλ” 2κ°)
- μ‹¤ν–‰ λ²„νΌ
- κ²°κ³Ό μ•”νΈλ¬Έ μƒμ„±
- μ„±λ¥ μΈ΅μ •

## π“¦ ν•„μ”ν• npm ν¨ν‚¤μ§€
- React (κΈ°λ³Έ ν¬ν•¨)
- Material-UI λλ” Tailwind CSS (UI λΌμ΄λΈλ¬λ¦¬)
- `idb` (IndexedDB λνΌ, μ„ νƒ)

## π§ ν…μ¤νΈ μ‹λ‚λ¦¬μ¤
1. Wasm λ¨λ“ λ΅λ”© ν…μ¤νΈ
2. ν‚¤ μƒμ„± β†’ μ €μ¥ β†’ λ΅λ“ ν”λ΅μ°
3. μ•”νΈν™” β†’ λ³µνΈν™” μ •ν™•μ„±
4. FHE μ—°μ‚° μ •ν™•μ„±
5. λΉ„λ°€λ²νΈ μ¤λ¥ μ²λ¦¬
6. Idle timeout λ™μ‘
